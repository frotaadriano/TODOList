<!doctype html>
<html ng-app="todoApp">

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.6.0.js"></script>
  <script src="todo.js"></script>
  <script src="./js/directives/pastDirective.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">

</head>

<body ng-controller="apiController">

  <div class="container-fluid">



    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <h1 class="display-4">Todo List</h1>
        <p class="lead">An AngularJS 1.6.+ and Bootstrap 4 studies project.</p>
      </div>
    </div>



    <div class="row">
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <tr class="table-info">
              <th scope="col">ID</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Branch that originates this!">BRANCH_ORIGIN</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Is on Master?">MASTER</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Is on Remessa Service?">SRV_REM</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Is on Retorno Service?">SRV_RET</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Correlated tasks">TASKS</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Data Created">CREATED</th>
              <th scope="col" data-toggle="tooltip" data-placement="top" title="Some notes">NOTES</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="todo in todoList">
              <td>{{$index+1}}</td>

              <td>
                <span ng-model="todo.BRANCH_ORIGIN" ng-show="!enableEdit[{{$index}}]">{{todo.BRANCH_ORIGIN}}</span>
                <input type="text" ng-model="todo.BRANCH_ORIGIN" ng-show="enableEdit[{{$index}}]" placeholder="origin" ng-disabled="!enableEdit[{{$index}}]">
              </td>
              <td>
                <span ng-model="todo.IS_ON_MASTER" ng-show="!enableEdit[{{$index}}]">{{todo.IS_ON_MASTER}}"</span>
                <input type="text" ng-model="todo.IS_ON_MASTER" ng-show="enableEdit[{{$index}}]" ng-disabled="!enableEdit[{{$index}}]" />
              </td>
              <td>
                <span ng-model="todo.IS_ON_SRV_REMESSA" ng-show="!enableEdit[{{$index}}]">{{todo.IS_ON_SRV_REMESSA}}</span>
                <input type="text" ng-model="todo.IS_ON_SRV_REMESSA" ng-show="enableEdit[{{$index}}]" ng-disabled="!enableEdit[{{$index}}]"
                />
              </td>
              <td>
                <span ng-model="todo.IS_ON_SRV_RETORNO" ng-show="!enableEdit[{{$index}}]">{{todo.IS_ON_SRV_RETORNO}}</span>
                <input type="text" ng-model="todo.IS_ON_SRV_RETORNO" ng-show="enableEdit[{{$index}}]" ng-disabled="!enableEdit[{{$index}}]"
                />
              </td>
              <td>
                <span ng-model="todo.TASKS" ng-show="!enableEdit[{{$index}}]">{{todo.TASKS}}</span>
                <input type="text" ng-model="todo.TASKS" ng-show="enableEdit[{{$index}}]" ng-disabled="!enableEdit[{{$index}}]" />
              </td>
              <td>
                <span ng-model="todo.DATA_CREATED" ng-show="!enableEdit[{{$index}}]">{{todo.DATA_CREATED}}</span>
                <input type="text" ng-model="todo.DATA_CREATED" ng-show="enableEdit[{{$index}}]" ng-disabled="!enableEdit[{{$index}}]" />
              </td>
              <td>
                <span ng-model="todo.NOTES" ng-show="!enableEdit[{{$index}}]">{{todo.NOTES}}</span>
                <input type="text" ng-model="todo.NOTES" ng-show="enableEdit[{{$index}}]" ng-disabled="!enableEdit[{{$index}}]" />
              </td>
              <td ng-show="!enableEdit[{{$index}}]">
                <button type="button" class="btn btn-primary" ng-click="editTodo($index)">EDIT</button>

              </td>
              <td ng-show="enableEdit[{{$index}}]">
                <button type="button" class="btn btn-info" ng-click="updateTodo($index)">UPDATE</button>
              </td>
            </tr>
            <tr>

            </tr>
            <tr class="table-warning">
              <td>ID is auto generated</td>
              <td>
                <input type="text" ng-model="todo.BRANCH_ORIGIN" placeholder="origin">
              </td>
              <td>
                <input type="checkbox" ng-model="todo.IS_ON_MASTER" value="" id="defaultCheck1">

              </td>
              <td>
                <input type="checkbox" ng-model="todo.IS_ON_SRV_REMESSA" value="" id="defaultCheck2">

              </td>
              <td>
                <input type="checkbox" ng-model="todo.IS_ON_SRV_RETORNO" value="" id="defaultCheck3">

              </td>
              <td>
                <input type="text" ng-model="todo.TASKS" />
              </td>
              <td>
                <input type="date" ng-model="todo.DATA_CREATED" />
              </td>
              <td>
                <input type="text" ng-model="todo.NOTES" />
              </td>
              <td>
                <button type="button" class="btn btn-info" ng-click="createTodo()">CREATE</button>
              </td>
            </tr>
          </tbody>
        </table>

      </div>

    </div>


  </div>
</body>

</html>